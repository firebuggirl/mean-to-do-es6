{"version":3,"sources":["webpack:///./app.js","webpack:///./scripts/controllers/main.js","webpack:///./scripts/controllers/todo.js","webpack:///./scripts/directives/todo.js","webpack:///./scripts/services/data.js"],"names":["module","controller","service","directive","MainController","$scope","$log","$interval","dataService","seconds","counter","log","getTodos","response","todos","data","addTodo","unshift","name","completed","$inject","TodoController","deleteTodo","todo","index","then","splice","saveTodos","filteredTodos","filter","edited","finally","resetTodoState","forEach","templateUrl","replace","DataService","$http","$q","cb","get","_id","resolve","delete","result","queue","map","post","put","all","results","length"],"mappings":"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","file":"todo.bundle.js","sourcesContent":["'use strict';\n\nimport angular from 'angular';\nimport MainController from './scripts/controllers/main';\nimport TodoController from './scripts/controllers/todo';\nimport todo from './scripts/directives/todo';\nimport DataService from './scripts/services/data';\nangular.module('todoListApp', [])\n  .controller('mainCtrl', MainController)\n  .controller('todoCtrl', TodoController)\n  .service('dataService', DataService)\n  .directive('todo', todo);\n\n\n/** WEBPACK FOOTER **\n ** ./app.js\n **/","'use strict';\n\nimport angular from 'angular';\n\nclass MainController {\n  // @ngInject\n  constructor($scope, $log, $interval, dataService) {\n    $scope.seconds = 0;\n    $scope.counter = () => {\n      $scope.seconds++;\n      $log.log($scope.seconds + ' seconds have passed!');\n    };\n\n    $interval($scope.counter, 1000, 10);\n\n    dataService.getTodos((response) => {\n      var todos = response.data.todos;  \n      $scope.todos =  todos;\n    });\n    \n    $scope.addTodo = () => {\n      $scope.todos.unshift({name: \"This is a new todo.\",\n                        completed: false});\n    };\n  }\n}\n\nMainController.$inject = ['$scope', '$log', '$interval', 'dataService'];\n\nexport default MainController;\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/controllers/main.js\n **/","'use strict';\n\nimport angular from 'angular';\n\nclass TodoController {\n  // @ngInject\n  constructor($scope, dataService) {\n    $scope.deleteTodo = (todo, index) => {\n      dataService.deleteTodo(todo).then(() => {\n        $scope.todos.splice(index, 1);\n      });\n    };\n    \n    $scope.saveTodos = () => {\n      let filteredTodos = $scope.todos.filter((todo) => todo.edited)\n      dataService.saveTodos(filteredTodos)\n        .finally($scope.resetTodoState());\n    };\n\n    $scope.resetTodoState = () => {\n      $scope.todos.forEach((todo) => {\n        todo.edited = false;\n      });\n    }\n  }\n}\n\nTodoController.$inject = ['$scope', 'dataService'];\n\nexport default TodoController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/controllers/todo.js\n **/","'use strict';\n\nimport angular from 'angular';\n\nexport default function todo() {\n  return {\n    templateUrl: 'templates/todo.html',\n    replace: true,\n    controller: 'todoCtrl'\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/directives/todo.js\n **/","'use strict';\n\nimport angular from 'angular';\n\nclass DataService {\n  // @ngInject\n  constructor($http, $q, $log) {\n    this.$http = $http;\n    this.$q = $q;\n    this.$log = $log;\n  }\n  getTodos(cb) {\n    this.$http.get('/api/todos').then(cb);\n  }\n  \n  deleteTodo(todo) {\n    if (!todo._id) {\n      return this.$q.resolve();\n    }\n    return this.$http.delete('/api/todos/' + todo._id)\n      .then((result) => {      \n        this.$log.log(\"I deleted the \" + todo.name + \" todo!\");\n      });\n  }\n  \n  saveTodos(todos) {\n    let queue = todos.map((todo) => {\n      if (!todo._id) {\n        return this.$http.post('/api/todos', todo);\n      } else {\n        return this.$http.put('/api/todos/' + todo._id, todo)\n          .then((result) => result.data.todo);\n      }\n    });\n    return this.$q.all(queue).then((results) => {\n      this.$log.log(\"I saved \" + todos.length + \" todos!\");\n    });\n  }  \n}\n\n// DataService.$inject = ['$http', '$q', '$log'];\n\nexport default DataService;\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/services/data.js\n **/"],"sourceRoot":""}